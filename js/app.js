(function(t){function e(e){for(var i,s,o=e[0],l=e[1],c=e[2],p=0,u=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},r=[];function s(t){return o.p+"js/"+({about:"about"}[t]||t)+".js"}function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=i);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,a[1](c)}n[t]=void 0}};var p=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"04ca":function(t,e,a){"use strict";(function(t){a("a4d3"),a("4de4"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("159b");var e=a("ade3"),i=a("53ca"),n=a("2b0e"),r=a("4709");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?s(Object(i),!0).forEach((function(a){Object(e["a"])(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(e){t(e);return{w:e.offsetWidth,h:e.offsetHeight,x:e.parentElement.offsetLeft,y:e.parentElement.offsetTop}}n["default"].directive("edit-tap",{bind:function(e,a){var n=a.value||{};if("object"!==Object(i["a"])(n)||Array.isArray(n))throw new Error("binding value 格式错误");n.name=n.name||a.arg,t(e).on("mouseover",(function(){return r["a"].postMessage(r["b"].tapHover,o({offset:l(e),scroll:{x:window.scrollX,y:window.scrollY}},n),"edit"),!1}))}})}).call(this,a("1157"))},"087f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.value?a("div",{staticClass:"el-upload-list el-upload-list--picture-card"},[a("div",{staticClass:"el-upload-list__item is-success"},[a("img",{staticClass:"flex-img__image",attrs:{src:t.value}}),t._m(0),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview"},[a("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){return e.stopPropagation(),t.handlePreview("background_pic")}}})]),a("span",{staticClass:"el-upload-list__item-delete"},[a("i",{staticClass:"el-icon-my-exchangeImage",on:{click:function(e){return e.stopPropagation(),t.choosePic(e)}}})])])])]):a("el-button",{attrs:{type:"primary"},on:{click:t.choosePic}},[t._v("添加图片")]),t._t("tip"),a("el-dialog",{attrs:{width:"375px",visible:t.previewShow,"append-to-body":""},on:{"update:visible":function(e){t.previewShow=e}}},[a("img",{attrs:{width:"100%",src:t.value,alt:""}})])],2)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{staticClass:"el-icon-upload-success el-icon-check"})])}],r=(a("a9e3"),a("d4ec")),s=a("bee2"),o=a("99de"),l=a("7e84"),c=a("262e"),p=a("9ab4"),d=a("60a3"),u=a("5b4c"),f=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(o["a"])(this,Object(l["a"])(e).call(this,{warn:"活动开启后不可更改"})),t.previewShow=!1,t}return Object(c["a"])(e,t),Object(s["a"])(e,[{key:"handlePreview",value:function(){this.previewShow=!0}},{key:"choosePic",value:function(){var t=this;this.$gallery({typeUrl:this.apiList.picListUrl,listUrl:this.apiList.pictureListUrl,addTypeUrl:this.apiList.addPictureTypeUrl,imgSize:this.imgSize,uploadUrl:this.apiList.picuploadUrl,uploadErr:this.errTip,callback:function(e){t.$emit("input",e)}})}}]),e}(u["a"]);p["a"]([Object(d["c"])(String)],f.prototype,"value",void 0),p["a"]([Object(d["c"])([String,Number])],f.prototype,"imgSize",void 0),p["a"]([Object(d["c"])(String)],f.prototype,"errTip",void 0),f=p["a"]([d["a"]],f);var h=f,m=h,v=(a("d1e73"),a("2877")),b=Object(v["a"])(m,i,n,!1,null,"a0620d60",null);e["a"]=b.exports},"08fb":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a("d4ec"),n=function t(e){Object(i["a"])(this,t),this.type="white","background"===e&&(this.image=[{path:"activity.templet_set.background_pic",title:"活动背景图",set:"base",tab:"base",imgSize:2e3}]),"title"===e&&(this.image=[{path:"activity.templet_set.title_pic",title:"活动标题图",set:"base",tab:"base",imgSize:500}]),"sub_name"===e&&(this.text={path:"activity.templet_set.sub_name",title:"活动副标题",set:"base",tab:"base",boxShow:!1}),"share_title"==e&&(this.text={path:"act.info.wx_share.title",title:"分享标题",set:"share",tab:"base",boxShow:!1},this.type="black"),"share_desc"==e&&(this.text={path:"act.info.wx_share.desc",title:"分享描述",set:"share",tab:"base",boxShow:!1},this.type="black"),"share_pic"==e&&(this.text={path:"act.info.wx_share.img",title:"分享缩略图",set:"share",tab:"base",boxShow:!1},this.type="black")}},"1d63":function(t,e,a){"use strict";a.r(e);a("d3b7");e["default"]={namespaced:!0,mutations:{act_render:function(t,e){e.content.start_time=new Date(1e3*e.content.start_time),e.content.end_time=new Date(1e3*e.content.end_time),this.dispatch("packageExtInfo",{extData:e.extData,param:e.content})}},actions:{act_render:{root:!0,handler:function(t,e){var a=t.commit;return new Promise((function(t,i){a("act_render",e),"function"===typeof t&&t()}))}}}}},"1e86":function(t,e,a){"use strict";var i=a("2b0e"),n=a("2f62"),r={info:function(t){return t.appData.editInfo},isShow:function(t){return t.appData.isShow},apiList:function(t){return t.appData.apiList},whiteSet:function(t){return t.appData.whiteSet},loading:function(t){return t.appData.loading},isLoadShow:function(t){return t.appData.isLoadShow},walletInfo:function(t){return t.appData.walletInfo},activeEdit:function(t){return t.appData.activeEdit},infoStatus:function(t){return t.appData.editInfoStatus}},s=r,o=(a("d3b7"),a("ac1f"),a("1276"),a("159b"),a("ddb0"),{defaultDataKeys:["activity","ext","platforms","advert"],dataKeys:[],handleKeys:["advert"],updateKeys:["platforms"],info:null,saveData:{},apiList:[],editInfo:{},whiteSet:{list:[],platform_ids:[]},walletInfo:{activityCurrentMoney:0,activityRemainMoney:0,subjectCurrentMoney:0,subjectRemainMoney:0},isShow:!1,loading:0,isLoadShow:!0,activeEdit:{tab:"base",ele:{},path:"",offset:{w:0,h:0,x:0,y:0},scroll:{x:0,y:0}},editInfoStatus:0}),l=o,c=(a("c975"),{setLoading:function(t,e){t.loading=e},initData:function(t,e){for(var a in e)t.dataKeys.push(a);t.info=e,this.commit("filterData")},filterData:function(t){t.actSet=t.actSet?t.actSet:{editDataKey:t.defaultDataKeys,editEleBlackList:[]},t.actSet.editDataKey.forEach((function(e){console.log(e),t.editInfo[e]=t.info[e]?t.info[e]:null})),this.dispatch("packageEditInfo"),console.log(t),t.isShow=!0},renderSaveData:function(t){this.dispatch("handleData"),t.actSet.editDataKey.forEach((function(e){t.saveData[e]=t.editInfo[e]}))},renderWalletInfo:function(t,e){t.walletInfo=e},updateLoadShow:function(t,e){t.isLoadShow=e},updateActiveNames:function(t,e){-1==t.actSet.activeNames.active.indexOf(e)&&t.actSet.activeNames.active.push(e)},updateUiWrapper:function(t,e){t.activeEdit.offset=e.offset,t.activeEdit.scroll=e.scroll,t.activeEdit.ele=e.ele},updateScrollUiWrapper:function(t,e){t.activeEdit.scroll.y=e.scroll.y,t.activeEdit.scroll.x=e.scroll.x},resetUiWrapper:function(t,e){t.activeEdit.offset=Object.assign({},t.activeEdit.offset,{w:0,h:0,x:0,y:0}),t.activeEdit.scroll=Object.assign({},t.activeEdit.scroll,{x:0,y:0}),t.activeEdit.path="",t.activeEdit.ele={}},updateEditWrapper:function(t,e){t.activeEdit.tab=void 0==e.tab?t.activeEdit.tab:e.tab,t.activeEdit.path=e.path},handleError:function(t,e){var a=e.split("."),i=a[0],n="prize"==i||"advert"==i||"goods"==i?a[2]:a[1],r=t.activeEdit.tab,s="",o=!1;switch(i){case"activity":var l=["share_set","title","rules","end_time","start_time","platforms","logo_url"];-1!=l.indexOf(n)?"logo_url"==n?(r="senior",s="logo"):(r="base",s="share_set"==n?"share":"base"):o=!0;break;case"prize":r="award";var c=a[1],p="general";c>=t.prize.general.length&&(p="comfort",c-=t.prize.general.length),this.commit("prize/prize_updateType",p),this.commit("prize/prize_updateIndex",c);break;case"goods":r="goods";var d=a[1];this.commit("goods/goods_updateIndex",d);break;case"advert":r="senior",s="advert";var u=a[1];this.commit("advert/advert_updateIndex",u);break;default:o=!0;break}this.commit("updateEditWrapper",{path:e,tab:r}),s&&this.commit("updateActiveNames",s),t.actSet.errorExt&&o&&this.commit("handleErrorExt",e)},updateEditInfoStatus:function(t,e){t.editInfoStatus=e}}),p=c,d=(a("99af"),a("96cf"),a("1da1")),u=a("dd0a"),f="https://raw.githubusercontent.com/sanrenhe",h={getData:f+"/sanrenhe/master/data.json"},m=a("5c96"),v=a("1157"),b=a.n(v),_={Loading:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.commit,i("setLoading",a);case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),getData:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.dispatch,t.abrupt("return",new Promise((function(t,e){i("getInfo",a).then((function(){t()}))})));case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),getInfo:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state,a=e.commit,t.abrupt("return",new Promise((function(t,e){b.a.getJSON(h.getData,(function(e){console.log(e),a("initData",e),t()}))})));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),handleData:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,a){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,n=e.dispatch,t.abrupt("return",new Promise((function(t,e){var r=void 0==i.actSet.editHandleKey?[]:i.actSet.editHandleKey,s=i.handleKeys.concat(r);a?n(a.actionName,{content:i.editInfo[a.key],editInfo:i.editInfo},{root:!0}):i.actSet.editDataKey.forEach((function(t){if(-1!=s.indexOf(t)){var e=t+"_handle";n(e,{content:i.editInfo[t],editInfo:i.editInfo},{root:!0})}})),"function"===typeof t&&t()})));case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),updateData:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,a){var i,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,n=e.dispatch,r=void 0==i.actSet.editUpdateKey?[]:i.actSet.editUpdateKey,s=i.updateKeys.concat(r),t.abrupt("return",new Promise((function(t,e){a?n(a.actionName,{content:i.editInfo[a.key],editInfo:i.editInfo},{root:!0}):i.actSet.editDataKey.forEach((function(t){if(-1!=s.indexOf(t)){var e=t+"_update";n(e,{content:i.editInfo[t],editInfo:i.editInfo},{root:!0})}})),"function"===typeof t&&t()})));case 4:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),save:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,i=e.dispatch,t.abrupt("return",new Promise((function(t,e){a("renderSaveData"),i("saveInfo").then((function(){t()}))})));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),saveInfo:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,i=e.dispatch,n=e.commit,t.abrupt("return",new Promise((function(t,e){u["a"].post(a.apiList.saveUrl,a.saveData).then((function(e){"success"==e.status?(t(),Object(m["Message"])({showClose:!0,message:e.message,type:"success"}),i("updateData"),n("updateEditInfoStatus",0)):(Object(m["Message"])({showClose:!0,message:e.message,type:"error",duration:5e3}),e.data&&n("handleError",e.data))}))})));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),preview:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,t.abrupt("return",new Promise((function(t,e){u["a"].post(a.apiList.previewUrl).then((function(e){"success"==e.status?t(e):Object(m["Message"])({showClose:!0,message:e.message,type:"error",duration:5e3})}))})));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getWallet:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,a){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,n=e.commit,n("updateLoadShow",!1),t.abrupt("return",new Promise((function(t,e){u["a"].get(i.apiList.activityWalletUrl,{totalMoney:a}).then((function(e){n("renderWalletInfo",e.data),n("updateLoadShow",!0),t()}))})));case 3:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},w=_,y={},g=a("8984");g.keys().forEach((function(t){var e=g(t).default||g(t),a=t.split("/")[1].split(".")[0];y[a]=e}));var x={state:l,mutations:p,actions:w,modules:y},k=x;i["default"].use(n["a"]);var O=new n["a"].Store({modules:{appData:k},getters:s});e["a"]=O},2248:function(t,e,a){},2649:function(t,e,a){},"26fa":function(t,e,a){"use strict";var i=a("4e4b"),n=a("dd0a"),r={install:function(t){t.$axios=i["a"],t.$http=n["a"]}};r.install=function(t){t.$axios=i["a"],window.axios=i["a"],Object.defineProperties(t.prototype,{$axios:{get:function(){return i["a"]}},$http:{get:function(){return n["a"]}}})};var s=r,o=a("2b0e");o["default"].use(s)},"2a4f":function(t,e,a){},"3b0c":function(t,e,a){"use strict";var i=a("2649"),n=a.n(i);n.a},"3d8a":function(t,e,a){"use strict";var i=a("2248"),n=a.n(i);n.a},"3dfd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],r=a("d4ec"),s=a("99de"),o=a("7e84"),l=a("262e"),c=a("9ab4"),p=a("60a3"),d=function(t){function e(){return Object(r["a"])(this,e),Object(s["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(p["e"]);d=c["a"]([p["a"]],d);var u=d,f=u,h=a("2877"),m=Object(h["a"])(f,i,n,!1,null,null,null);e["a"]=m.exports},"3eaa":function(t,e,a){"use strict";(function(t){a("7db0"),a("a434"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("1276"),a("9911"),a("159b");var i=a("d4ec"),n=a("bee2"),r=a("99de"),s=a("7e84"),o=a("262e"),l=a("9ab4"),c=a("60a3"),p=a("4bb5"),d=a("4709"),u=a("7d84"),f=a("aa47"),h=a("f6e1"),m=Object(p["e"])("award"),v=function(e){function a(){var t;return Object(i["a"])(this,a),t=Object(r["a"])(this,Object(s["a"])(a).call(this,{warn:"活动开启后不可更改"})),t.defaultawardData={id:0,area:"1",is_valid:2,short_name:"",name:"",type:"",generic_code:"",num:0,minnum:0,money:"0.00",probability_num:0,pic_url:"",desc:"",maxPercentSet:0,use_url:"",status:1,code_num:0,input_num:0,other_temp_set:{},title:"",tabIndex:0,seq:"",close:!0,changeIndex:0},t.percentSet={options:[{value:1,label:"百分率"},{value:2,label:"千分率"},{value:3,label:"万分率"}],link:{1:100,2:1e3,3:1e4},icon:{1:"%",2:"‰",3:"‱"}},t.general_1={},t.general_2={},t.general_3={},t.general_4={},t.general_5={},t.general_6={},t.general_7={},t.general_8={},t.general_9={},t.walletShow=!1,t.isFirst=!1,t.updateWallet=!1,t}return Object(o["a"])(a,e),Object(n["a"])(a,[{key:"mounted",value:function(){var t=this;this.appData.award.awardSetCustom.forEach((function(e){var a="general_"+e.area;t[a]={tabs:t.appData.award[a],tabs_pre:t.appData.award[a],tab_value:0==t.appData.award[a].length?"":t.appData.award[a][t.appData.award.index].seq,index:0,index_next:t.appData.award[a].length,percent_max_set:0,percent_total:0,percent_icon:"",award_title:e.title,probability_set:e.probability_set},t.info.draw&&e.probability_set&&(t[a].percent_max_set=t.percentSet.link[t.info.draw.many_probability_set[e.area]],t[a].percent_icon=t.percentSet.icon[t.info.draw.many_probability_set[e.area]])})),this.$nextTick((function(){t.appData.award.awardSetCustom.forEach((function(e){var a="general_"+e.area;e.probability_set&&t[a].tabs.forEach((function(e,i){1==e.status&&(t[a].percent_total+=e.probability_num)}))})),t.appData.award.awardSetCustom.forEach((function(e){var a="general_"+e.area;e.probability_set&&t[a].tabs.forEach((function(e,i){e.maxPercentSet=e.probability_num+t[a].percent_max_set-t[a].percent_total})),t.updateawardTabs(t[a].tabs,a),t.$watch(a+".tabs",(function(e,i){return t.watchawardTabs(t[a].tabs,a)}),{deep:!0})}))}))}},{key:"getGeneral",value:function(t){return this["general_"+t]}},{key:"updateawardTabs",value:function(e,a){var i=this;window.setTimeout((function(){var n=!1;e.forEach((function(r,s){if(r.close||t("#pane-"+a).find("#tab-"+r.tabIndex).find("span.el-icon-close").eq(0).hide(),"money"==r.type){i.walletShow=!0,n=!0;var o=i[a].tabs_pre;r.input_num==o[s].input_num&&r.money==o[s].money&&r.type==o[s].type&&r.minnum==o[s].minnum||!0}s!=e.length-1||n||(i.walletShow=!1)})),i.award_handle(i.appData),i.storePreData(e,a)}),500)}},{key:"watchawardTabs",value:function(t,e){this.updateawardTabs(t,e),this.onDataChange(d["b"].update),this.updateEditInfoStatus(1)}},{key:"storePreData",value:function(t,e){var a=this;this[e].tabs_pre=[],t.forEach((function(t,i){a[e].tabs_pre.push({id:t.id,input_num:t.input_num,money:t.money,type:t.type,minnum:t.minnum})}))}},{key:"countPercent",value:function(t,e,a){var i=this;1==a.status&&(t=void 0==t?0:t,e=void 0==e?0:e,t=t>a.maxPercentSet?a.maxPercentSet:t,a.probability_num=t,this[this.appData.award.type].percent_total=this[this.appData.award.type].percent_total+t-e,this[this.appData.award.type].tabs.forEach((function(t){t.maxPercentSet=t.probability_num+i[i.appData.award.type].percent_max_set-i[i.appData.award.type].percent_total})))}},{key:"awardTabChange",value:function(t){var e=t.$attrs["data-set"];this[this.appData.award.type].index=e,this.award_updateIndex(e),this.menuSwitch&&this.menuSelect("/e/actId/detail/awardId")}},{key:"awardTypeChange",value:function(e){var a=this,i=e.$attrs["data-set"];this.appData.award.type=i,this.award_updateIndex(this[i].index),setTimeout((function(){a.sortEl=t("#pane-"+i).find(".tabs-sort").find(".el-tabs__nav")[0],a.sortable=f["a"].create(a.sortEl,{onEnd:function(t){var e=a[i].tabs.splice(t.oldIndex,1)[0];a[i].tabs.splice(t.newIndex,0,e)}})}),500)}},{key:"choosePercent",value:function(t){var e=this;this[this.appData.award.type].percent_max_set=this.percentSet.link[t],this[this.appData.award.type].percent_icon=this.percentSet.icon[t],this[this.appData.award.type].tabs.forEach((function(t){t.maxPercentSet=t.probability_num+e[e.appData.award.type].percent_max_set-e[e.appData.award.type].percent_total}))}},{key:"handleAwardTabsEdit",value:function(e,a){var i=this,n=(this.appData.award.type.split("_")[1],this[this.appData.award.type].tabs),r=this[this.appData.award.type].tab_value;if("add"===a){var s=n.length+1,o=(++this[this.appData.award.type].index_next).toString(),l=t.extend({},this.defaultawardData,{});l.title=this[this.appData.award.type].award_title,l.name=this[this.appData.award.type].award_title,l.tabIndex=s,l.seq=o,l.close=!0,l.changeIndex=0,n.push(l),this[this.appData.award.type].tab_value=o,this[this.appData.award.type].probability_set&&n.forEach((function(t){t.maxPercentSet=t.probability_num+i[i.appData.award.type].percent_max_set-i[i.appData.award.type].percent_total})),this.$message({message:"添加成功！",type:"success"}),this.resetTabIndex(n)}if("remove"===a){n.forEach((function(t){t.seq==e&&t.id})),this.$message("删除成功！"),r==e&&n.forEach((function(t,a){if(t.seq==e){var r=n[a+1]||n[a-1];r&&(i[i.appData.award.type].tab_value=r.seq)}})),n.forEach((function(t,a){t.seq==e&&n.splice(a,1)})),this.appData.award.awardSetCustom.forEach((function(t){var e="general_"+t.area;t.probability_set&&(i[e].percent_total=0,i[e].tabs.forEach((function(t,a){1==t.status&&(i[e].percent_total+=t.probability_num)})))})),this.appData.award.awardSetCustom.forEach((function(t){var e="general_"+t.area;t.probability_set&&i[e].tabs.forEach((function(t,a){t.maxPercentSet=t.probability_num+i[e].percent_max_set-i[e].percent_total})),i.updateawardTabs(i[e].tabs,e)})),this[this.appData.award.type].probability_set&&(this[this.appData.award.type].percent_total=0,n.forEach((function(t){1==t.status&&(i[i.appData.award.type].percent_total+=t.probability_num),t.maxPercentSet=t.probability_num+i[i.appData.award.type].percent_max_set-i[i.appData.award.type].percent_total})),n.forEach((function(t){1==t.status&&(t.maxPercentSet=t.probability_num+i[i.appData.award.type].percent_max_set-i[i.appData.award.type].percent_total)}))),this.resetTabIndex(n)}}},{key:"resetTabIndex",value:function(e){var a=this;e.forEach((function(e,i){e.close||t("#pane-"+a.appData.award.type).find("#tab-"+(i+1)).find("span.el-icon-close").eq(0).hide()}));var i=e.length-1<0?0:e.length-1;this[this.appData.award.type].index=i,this.award_updateIndex(i)}},{key:"percentBlur",value:function(e){var a=e.target;""==t(a).val()&&t(a).val(0)}}]),a}(u["a"]);l["a"]([Object(p["d"])("appData")],v.prototype,"appData",void 0),l["a"]([m.Mutation("award_updateIndex")],v.prototype,"award_updateIndex",void 0),l["a"]([m.Mutation("award_updateType")],v.prototype,"award_updateType",void 0),l["a"]([m.Mutation("award_handle")],v.prototype,"award_handle",void 0),l["a"]([Object(p["a"])("getWallet")],v.prototype,"getWallet",void 0),l["a"]([p["b"]],v.prototype,"walletInfo",void 0),l["a"]([p["c"]],v.prototype,"updateEditInfoStatus",void 0),l["a"]([Object(c["b"])()],v.prototype,"debounce",void 0),l["a"]([Object(c["b"])()],v.prototype,"onDataChange",void 0),l["a"]([Object(c["c"])({type:Boolean,default:!1})],v.prototype,"menuSwitch",void 0),v=l["a"]([Object(c["a"])({components:{awardPart:h["a"]},watch:{"appData.award.index":{handler:function(){this[this.appData.award.type].tab_value=this[this.appData.award.type].tabs[this.appData.award.index].seq||"",this[this.appData.award.type].index=this.appData.award.index}}}})],v),e["a"]=v}).call(this,a("1157"))},4709:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return l}));var i,n=a("53ca"),r=a("d4ec"),s=a("bee2");(function(t){t[t["empty"]=0]="empty",t[t["init"]=1]="init",t[t["update"]=2]="update",t[t["tapClick"]=3]="tapClick",t[t["tapHover"]=4]="tapHover",t[t["tapScroll"]=5]="tapScroll",t[t["edit"]=6]="edit"})(i||(i={}));var o=function(){function t(e){Object(r["a"])(this,t),this.type=i.empty,this.data=e||{}}return Object(s["a"])(t,[{key:"postMessage",value:function(){t.postMessage(this.type,this.data)}}],[{key:"postMessage",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"view";"view"==a?window.frames[a].contentWindow.postMessage({_HDCRM_:!0,type:t,data:e},"*"):window.postMessage({_HD_:!0,type:t,data:e},"*")}}]),t}();function l(t){window.addEventListener("message",(function(e){"object"===Object(n["a"])(e.data)&&e.data._HD_&&t(e.data,e)}),!1)}},"4e4b":function(t,e,a){"use strict";a("d3b7");var i=a("bc3a"),n=a.n(i),r=a("1e86"),s=n.a.create({baseURL:"",withCredentials:!0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",headers:{"X-Requested-With":"XMLHttpRequest"}});s.defaults.headers.post["Content-Type"]="application/json",s.interceptors.request.use((function(t){return r["a"].state.appData.isLoadShow&&r["a"].dispatch("Loading",1),t}),(function(t){Promise.reject(t)})),s.interceptors.response.use((function(t){r["a"].dispatch("Loading",0);t.data;return t.data}),(function(t){var e=t.response;return 302==e.status||e.status,e.status,r["a"].dispatch("Loading",0),Promise.reject(e)})),e["a"]=s},5092:function(t,e,a){"use strict";a.r(e);a("d3b7"),a("25f0"),a("159b");e["default"]={namespaced:!0,state:{list:[],index:0},mutations:{advert_render:function(t,e){e.editInfo.advert.forEach((function(e){var a={seq:(t.list.length+1).toString(),tabTitle:"广告"+(t.list.length+1)};e.is_show=0==e.is_show?"2":e.is_show.toString(),e=Object.assign({},e,a),t.list.push(e)}))},advert_handle:function(t,e){e.editInfo.advert=t.list},advert_updateIndex:function(t,e){t.index=e}},actions:{advert_render:{root:!0,handler:function(t,e){var a=t.commit;return new Promise((function(t,i){a("advert_render",e),"function"===typeof t&&t()}))}},advert_handle:{root:!0,handler:function(t,e){var a=t.commit;return new Promise((function(t,i){a("advert_handle",e),"function"===typeof t&&t()}))}}}}},"52a2":function(t,e,a){"use strict";function i(t,e){var a;return function(){var i=this,n=arguments;clearTimeout(a),a=setTimeout((function(){t.apply(i,n)}),e)}}a.d(e,"a",(function(){return i}))},5467:function(t,e,a){"use strict";var i=a("f6eb"),n=a.n(i);n.a},5871:function(t,e,a){},"590d":function(t,e,a){},"5b4c":function(t,e,a){"use strict";var i=a("d4ec"),n=a("99de"),r=a("7e84"),s=a("262e"),o=a("9ab4"),l=a("2b0e"),c=a("4bb5"),p=function(t){function e(t){var a;return Object(i["a"])(this,e),a=Object(n["a"])(this,Object(r["a"])(e).call(this)),a.popover=t,a}return Object(s["a"])(e,t),e}(l["default"]);o["a"]([c["b"]],p.prototype,"info",void 0),o["a"]([c["b"]],p.prototype,"apiList",void 0),o["a"]([c["b"]],p.prototype,"editEleBlackList",void 0),e["a"]=p},"5b50":function(t,e,a){"use strict";var i=a("d4ec"),n=a("99de"),r=a("7e84"),s=a("262e"),o=a("9ab4"),l=a("2b0e"),c=a("4bb5"),p=function(t){function e(t){var a;return Object(i["a"])(this,e),a=Object(n["a"])(this,Object(r["a"])(e).call(this)),a.popover=t,a}return Object(s["a"])(e,t),e}(l["default"]);o["a"]([c["b"]],p.prototype,"info",void 0),o["a"]([c["b"]],p.prototype,"editEleBlackList",void 0),o["a"]([c["b"]],p.prototype,"apiList",void 0),o["a"]([c["b"]],p.prototype,"activeEdit",void 0),o["a"]([c["b"]],p.prototype,"activeNames",void 0),e["a"]=p},"5ca4":function(t,e,a){"use strict";(function(t){var i=a("d4ec"),n=a("bee2"),r=a("99de"),s=a("7e84"),o=a("262e"),l=a("9ab4"),c=a("60a3"),p=a("4bb5"),d=a("5b50"),u=a("087f"),f=function(e){function a(){var t;return Object(i["a"])(this,a),t=Object(r["a"])(this,Object(s["a"])(a).call(this,{warn:"活动开启后不可更改"})),t.imageBoxShow=!1,t.textBoxShow=!1,t}return Object(o["a"])(a,e),Object(n["a"])(a,[{key:"editImage",value:function(){this.activeEdit.ele.image?this.imageBoxShow=!0:this.updateEditWrapper()}},{key:"editText",value:function(){this.activeEdit.ele.text.boxShow?this.textBoxShow=!0:this.handle()}},{key:"handle",value:function(){this.updateEditWrapper({tab:this.activeEdit.ele.text.tab,path:this.activeEdit.ele.text.path}),this.updateActiveNames(this.activeEdit.ele.text.set),console.log(this.activeEdit),window.setTimeout((function(){t(".el-tab-pane").animate({scrollTop:t(".edit-active")[0].offsetTop-100},200)}),100)}},{key:"styleFillter",value:function(t){var e={width:this.activeEdit.offset.w,height:this.activeEdit.offset.h,left:this.activeEdit.offset.x-this.activeEdit.scroll.x,top:this.activeEdit.offset.y-this.activeEdit.scroll.y};for(var a in"top"==t||"bottom"==t?(e.height=0,"bottom"==t&&(e.top=this.activeEdit.offset.h+e.top-.5)):"left"==t||"right"==t?(e.width=0,"right"==t&&(e.left=this.activeEdit.offset.w+e.left-.5)):"btn"==t&&(e.top=e.height>34?e.top+1:e.top-34,e.left=e.left+1,e.width="auto",e.height="auto"),e)e[a]=e[a]+"px";return e}}]),a}(d["a"]);l["a"]([Object(p["c"])("updateEditWrapper")],f.prototype,"updateEditWrapper",void 0),l["a"]([Object(p["c"])("updateActiveNames")],f.prototype,"updateActiveNames",void 0),f=l["a"]([Object(c["a"])({components:{imagePart:u["a"]}})],f),e["a"]=f}).call(this,a("1157"))},"5dff":function(t,e,a){},"73ec":function(t,e,a){},"7b14":function(t,e,a){},"7d84":function(t,e,a){"use strict";var i=a("d4ec"),n=a("99de"),r=a("7e84"),s=a("262e"),o=a("9ab4"),l=a("2b0e"),c=a("4bb5"),p=function(t){function e(t){var a;return Object(i["a"])(this,e),a=Object(n["a"])(this,Object(r["a"])(e).call(this)),a.popover=t,a}return Object(s["a"])(e,t),e}(l["default"]);o["a"]([c["b"]],p.prototype,"info",void 0),o["a"]([c["b"]],p.prototype,"editEleBlackList",void 0),o["a"]([c["b"]],p.prototype,"apiList",void 0),o["a"]([c["b"]],p.prototype,"activeNames",void 0),o["a"]([c["b"]],p.prototype,"activeEdit",void 0),e["a"]=p},"83cf":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tinymce-editor"},[a("editor",{attrs:{init:t.init,disabled:t.disabled},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)},n=[],r=a("2f62"),s=a("e562"),o=a.n(s),l=a("ca72"),c=(a("0d68"),a("2fec"),a("2d33"),a("3154"),a("4237"),a("2b07"),a("62e5"),a("4ea8"),a("07d1"),a("84ec"),a("c3d7"),a("34de"),{components:{Editor:l["a"]},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:"autolink colorpicker fullscreen hr image link searchreplace textcolor charmap"},toolbar:{type:[String,Array],default:"fontsizeselect | cut copy paste | forecolor backcolor bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image chooseImage charmap hr | subscript superscript | removeformat fullscreen searchreplace | undo redo"}},computed:Object(r["c"])(["apiList"]),data:function(){var t=this;return{init:{language_url:"//res.kerlala.com/assets/libs/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"//res.kerlala.com/assets/libs/tinymce/skins/ui/oxide",height:300,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,image_advtab:!0,image_description:!1,setup:function(e){e.ui.registry.addButton("chooseImage",{tooltip:"上传图片",icon:"upload",onAction:function(){t.$gallery({typeUrl:t.apiList.picListUrl,listUrl:t.apiList.pictureListUrl,addTypeUrl:t.apiList.addPictureTypeUrl,uploadUrl:t.apiList.picuploadUrl,callback:function(t){e.execCommand("mceInsertContent",!1,"<img src=".concat(t,">")),e.focus()}})}})}},myValue:this.value}},mounted:function(){o.a.init({})},methods:{},watch:{value:function(t){this.myValue=t},myValue:function(t){this.$emit("input",t)}}}),p=c,d=(a("9a7e"),a("2877")),u=Object(d["a"])(p,i,n,!1,null,"1d45990a",null);e["a"]=u.exports},8984:function(t,e,a){var i={"./act.ts":"1d63","./advert.ts":"5092","./award.ts":"cc02","./package.ts":"9d98","./platforms.ts":"a180"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="8984"},"9a7e":function(t,e,a){"use strict";var i=a("5871"),n=a.n(i);n.a},"9d98":function(t,e,a){"use strict";a.r(e);a("99af"),a("c975"),a("b0c0"),a("d3b7"),a("ac1f"),a("1276"),a("159b"),a("e25e"),a("25f0");function i(t,e){var a=null;switch(t.type){case"input":a=n();break;case"switch":a=r(e);break;case"datetimepicker_range":a=s(e);break;default:a="";break}return a}function n(){return""}function r(t){return t||"2"}function s(t){return t||parseInt(((new Date).getTime()/1e3).toString())}e["default"]={namespaced:!0,state:{ignoreKeys:["ext","goodsType","awardsType","draw"],extData:{}},mutations:{ext_render:function(t,e){e.forEach((function(e){if(1!=e.type){var a=e.belong.split(".")[0],i=e.belong.split(".")[1];void 0==t.extData[a]&&(t.extData[a]=[]);var n={belong:i,edit:{name:e.name,key:e.key,type:e.type}};t.extData[a].push(n)}}))},ext_package:function(t,e){void 0!=e.extData&&e.extData.forEach((function(t){var a=t.edit.key.split(",");a.forEach((function(a){e.param[t.belong][a]=i(t.edit,e.param[t.belong][a])}))}))}},actions:{packageEditInfo:{root:!0,handler:function(t,e){t.commit;var a=t.dispatch,i=t.rootState,n=t.state,r=void 0==i.appData.actSet.editRenderIgnoreKey?[]:i.appData.actSet.editRenderIgnoreKey,s=n.ignoreKeys.concat(r);return new Promise((function(t,e){i.appData.actSet.editDataKey.forEach((function(t){if(-1==s.indexOf(t)){var e=t+"_render",r={content:i.appData.editInfo[t],editInfo:i.appData.editInfo,extData:n.extData[t],actSet:i.appData.actSet};a(e,r,{root:!0})}})),"function"===typeof t&&t()}))}},packageExtInfo:{root:!0,handler:function(t,e){var a=t.commit;return new Promise((function(t,i){a("ext_package",e),"function"===typeof t&&t()}))}}}}},a180:function(t,e,a){"use strict";a.r(e);a("d3b7"),a("159b");e["default"]={namespaced:!0,mutations:{platforms_render:function(t,e){for(var a in e.editInfo.platformArr=[],e.editInfo.platforms){for(var i={label:a,name:e.editInfo.platforms[a],disabled:!1},n=0,r=e.editInfo.activity.platforms.length;n<r;n++)1==e.editInfo.activity.status&&a==e.editInfo.activity.platforms[n]&&(i.disabled=!0);e.editInfo.platformArr.push(i)}},platforms_update:function(t,e){1==e.editInfo.activity.status&&e.editInfo.platformArr.forEach((function(t,a){e.editInfo.activity.platforms.forEach((function(e,a){t.label==e&&(t.disabled=!0)}))}))}},actions:{platforms_render:{root:!0,handler:function(t,e){var a=t.commit;t.dispatch,t.rootstate,t.state;return new Promise((function(t,i){a("platforms_render",e),"function"===typeof t&&t()}))}},platforms_update:{root:!0,handler:function(t,e){var a=t.commit;t.dispatch,t.rootstate,t.state;return new Promise((function(t,i){a("platforms_update",e),"function"===typeof t&&t()}))}}}}},aa5e:function(t,e,a){},afbc:function(t,e,a){"use strict";a("d3b7");var i=a("2b0e"),n=a("8c4f"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("el-button",{attrs:{type:"primary"},on:{click:t.avUpdate}},[t._v("更新数据")]),a("el-button",{attrs:{type:"success"},on:{click:t.avGet}},[t._v("获取数据")]),a("el-button",{attrs:{type:"warning"},on:{click:t.avCreate}},[t._v("新建数据")]),a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",disabled:""},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}})],1)},s=[],o=a("d4ec"),l=a("bee2"),c=a("99de"),p=a("7e84"),d=a("262e"),u=a("9ab4"),f=a("60a3"),h=a("5c96"),m=a("1157"),v=a.n(m),b=a("0631"),_=a.n(b),w=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.data="",t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"created",value:function(){this.avInit(),this.getDefalutData()}},{key:"getDefalutData",value:function(){v.a.getJSON("https://raw.githubusercontent.com/sanrenhe/sanrenhe/master/data.json",(function(t){console.log(t)}))}},{key:"avInit",value:function(){_.a.init({appId:"TBk0Vh6PATq4y8t7Mnl0FSkP-gzGzoHsz",appKey:"4jfp4zUMcMMMmUhMfzLaNNlm",serverURLs:"https://tbk0vh6p.lc-cn-n1-shared.com"})}},{key:"avCreate",value:function(){var t=_.a.Object.extend("ActEditData"),e=new t;e.set("type","turntable"),e.save().then((function(t){Object(h["Message"])({showClose:!0,message:"新建成功",type:"success"})}))}},{key:"avUpdate",value:function(){var t=_.a.Object.createWithoutData("ActEditData","5e15457f21460d006a625edb");t.set("data",""),t.save().then((function(){Object(h["Message"])({showClose:!0,message:"更新成功",type:"success"})}))}},{key:"avGet",value:function(){var t=this,e=new _.a.Query("TestObject");e.get("5e0af40921460d006a0a461a").then((function(e){t.data=JSON.stringify(e._serverData),Object(h["Message"])({showClose:!0,message:"获取成功",type:"info"})}))}}]),e}(f["e"]);w=u["a"]([f["a"]],w);var y=w,g=y,x=a("2877"),k=Object(x["a"])(g,r,s,!1,null,null,null),O=k.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isShow,expression:"!isShow"}],staticClass:"edit-page",staticStyle:{height:"100vh"},attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[t.isShow?a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"edit-container",attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-header",{staticClass:"edit-header"},[a("p-top")],1),a("el-container",{staticClass:"edit-wrap"},[a("p-left",{attrs:{viewSrc:t.viewSrc}}),a("p-right")],1)],1):t._e()],1)},S=[],E=(a("b0c0"),a("4bb5")),C={state:{editDataKey:["act","draw","advert","award","awardsType"],editEleBlackList:["activity.name","activity.templet_set.is_lamp_on","prize.short_name"],editRenderIgnoreKey:[],editHandleKey:["prize","indicatorTask"],editUpdateKey:["prize"],activeNames:{active:["base","baseExt","share","logo","white","advert","draw","win"]},editPagePath:{path:"/e/actId/index",pathArr:[{path:"/e/actId/index",title:"活动首页"},{path:"/e/actId/my",title:"我的奖品"},{path:"/e/actId/detail/prizeId",title:"奖品详情"},{path:"share",title:"分享效果"}]}},mutations:{updateEditPagePath:function(t,e){t.editPagePath.path=e.path}},actions:{},getters:{editDataKey:function(t){return t.editDataKey},editEleBlackList:function(t){return t.editEleBlackList},activeNames:function(t){return t.activeNames},editPagePath:function(t){return t.editPagePath}}},D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("head-bar",{scopedSlots:t._u([{key:"menu-ext",fn:function(){return[a("el-menu",{staticClass:"edit-view_menu_top",attrs:{mode:"horizontal","default-active":t.filterPagePath(t.editPagePath.path)},on:{select:t.menuSelect}},t._l(t.editPagePath.pathArr,(function(e){return a("el-menu-item",{key:e.title,attrs:{index:t.filterPagePath(e.path)}},[t._v(t._s(e.title))])})),1)]},proxy:!0}])})],1)},P=[],I=function(){var t=this,e=this,a=e.$createElement,i=e._self._c||a;return i("div",[i("el-row",{attrs:{type:"flex",justify:"space-between"}},[i("el-col",{attrs:{span:18}},[e._t("menu-ext")],2),i("el-col",{staticClass:"edit-control_btn",attrs:{span:4}},[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:e.previewAct}},[e._v("预览")]),i("el-button",{attrs:{type:"primary",disabled:0==e.infoStatus},on:{click:e.saveInfo}},[e._v("保存")]),e._t("btn-ext")],2),e.previewShow?i("div",{staticClass:"preview-alert"},[i("div",{staticClass:"preview-alert-nr"},[i("div",{staticClass:"preview-alert_title"},[e._v("预览")]),i("el-row",{staticClass:"tac"},[i("el-col",{attrs:{span:7}},[i("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"390px",overflow:"hidden","overflow-y":"auto"},attrs:{"default-active":e.platforms[0].id},on:{select:e.handleSelectPlatform}},e._l(e.platforms,(function(t,a){return i("el-menu-item",{key:a,attrs:{index:t.id}},[i("i",{staticClass:"el-icon-menu"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])})),1)],1),i("el-col",{attrs:{span:15}},[i("div",{staticClass:"preview-alert_edit"},[i("div",{staticClass:"preview-alert-left"},[i("div",{staticClass:"preview-img-box"},[i("img",{attrs:{src:e.showPlatform.pic,alt:""}})])]),i("div",{staticClass:"preview-alert-right"},[i("div",{staticClass:"preview-code-box"},[i("img",{attrs:{src:e.showPlatform.qrcode,alt:"扫码查看活动"}}),i("p",[e._v("扫码查看活动")])]),i("div",{staticClass:"preview-href-box"},[i("p",[e._v(e._s(e.showPlatform.url))]),i("div",{staticClass:"preview-href-copy",on:{click:function(t){return e.copyUrl(e.showPlatform.url)}}},[e._v("复制")])]),i("div",{staticClass:"preview-alert_tip"},[e._v("您可以将活动链接复制到您的公众号菜单或发布平台中")]),i("div",{staticClass:"preview-alert-btn"},[i("el-button",{staticStyle:{width:"110px","margin-top":"20px","margin-left":"30px"},attrs:{type:"primary"},on:{click:e.exit}},[e._v("离开")]),i("el-button",{staticStyle:{width:"110px","margin-top":"20px",color:"#6D96FF",background:"rgba(109, 150, 255, 0.1)"},attrs:{type:"primary"},on:{click:function(){t.previewShow=!1}}},[e._v("继续编辑")])],1)])])])],1)],1)]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.saveShow,expression:"saveShow"}],staticClass:"code-alert"},[i("div",{staticClass:"code-alert-nr"},[i("h4",[e._v("提示")]),i("p",[e._v("保存成功")]),i("div",{staticClass:"code-alert_edit"},[i("el-button",{staticStyle:{width:"110px","margin-top":"-20px","margin-left":"110px"},attrs:{type:"primary"},on:{click:e.exit}},[e._v("离开")]),i("el-button",{staticStyle:{width:"110px","margin-top":"-20px","margin-left":"40px",color:"#6D96FF",background:"rgba(109, 150, 255, 0.1)"},attrs:{type:"primary"},on:{click:function(){t.saveShow=!1}}},[e._v("继续编辑")])],1)])])])],1)],1)},$=[],T=a("b311"),L=a.n(T),z=a("5b50"),N=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(p["a"])(e).call(this,{warn:"活动开启后不可更改"})),t.previewShow=!1,t.saveShow=!1,t.showPlatform=null,t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"saveInfo",value:function(){var t=this;this.save().then((function(){t.saveShow=!0}))}},{key:"previewAct",value:function(){var t=this;0==this.infoStatus?this.preview().then((function(e){t.platforms=e.data,t.filterPlatform(t.platforms[0].id)})):this.save().then((function(){t.preview().then((function(e){t.platforms=e.data,t.filterPlatform(t.platforms[0].id)}))}))}},{key:"handleSelectPlatform",value:function(t){this.filterPlatform(t)}},{key:"filterPlatform",value:function(t){for(var e=0,a=this.platforms.length;e<a;e++)this.platforms[e].id==t&&(this.showPlatformIndex=e);this.showPlatform=this.platforms[this.showPlatformIndex],this.previewShow=!0}},{key:"exit",value:function(){this.destroyedBeforeunloadHandler(),window.top.location.href=this.apiList.listUrl}},{key:"copyUrl",value:function(t){var e=this,a=new L.a(".preview-href-copy",{text:function(){return t}});a.on("success",(function(t){e.$message({showClose:!0,message:"文字已复制到剪贴板中",type:"success"}),a.destroy()})),a.on("error",(function(t){e.$message({showClose:!0,message:"异常错误： "+JSON.stringify(t.message),type:"warning"}),a.destroy()}))}}]),e}(z["a"]);u["a"]([E["a"]],N.prototype,"save",void 0),u["a"]([E["a"]],N.prototype,"preview",void 0),u["a"]([E["b"]],N.prototype,"infoStatus",void 0),N=u["a"]([f["a"]],N);var M=N,F=M,A=(a("3d8a"),Object(x["a"])(F,I,$,!1,null,"200b32e3",null)),U=A.exports,K=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(p["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(f["e"]);u["a"]([E["b"]],K.prototype,"editPagePath",void 0),K=u["a"]([Object(f["a"])({components:{HeadBar:U}})],K);var q=K,B=q,R=Object(x["a"])(B,D,P,!1,null,null,null),H=R.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-aside",{staticClass:"edit-view_main"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"edit-view_main_header"},[a("p",[t._v(t._s(t.info.act.info.title))])]),a("div",{staticClass:"activity-view"},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:"share"!=t.editPagePath.path,expression:"editPagePath.path != 'share'"}],staticStyle:{width:"100%",height:"620px"},attrs:{src:t.viewSrc,frameborder:"0",id:"view"}}),a("share-bar",{directives:[{name:"show",rawName:"v-show",value:"share"==t.editPagePath.path,expression:"editPagePath.path == 'share'"}]}),a("div",{staticClass:"activity-editWrap"},[a("uiwrap-bar")],1)],1)]),a("el-col",{attrs:{span:2}},[a("el-menu",{staticClass:"edit-view_menu_right",attrs:{collapse:"","default-active":t.filterPagePath(t.editPagePath.path)},on:{select:t.menuSelect}},t._l(t.editPagePath.pathArr,(function(e,i){return a("el-menu-item",{key:e.title,attrs:{index:t.filterPagePath(e.path)}},[t._v(t._s(i+1))])})),1)],1)],1)],1)},G=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"uiwrapper-btn",style:t.styleFillter("btn")},[void 0!=t.activeEdit.ele.image?[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top"}},[a("i",{staticClass:"el-icon-edit-outline",on:{click:t.editImage}})])]:t._e(),void 0!=t.activeEdit.ele.text?[t.activeEdit.ele.text.boxShow?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"样式",placement:"top"}},[a("i",{staticClass:"el-icon-edit",on:{click:t.editText}})]):a("i",{staticClass:"el-icon-edit",on:{click:t.editText}})]:t._e()],2),a("div",{staticClass:"uiwrapper uirwapper-top",class:{black:"black"==t.activeEdit.ele.type},style:t.styleFillter("top")}),a("div",{staticClass:"uiwrapper uirwapper-bottom",class:{black:"black"==t.activeEdit.ele.type},style:t.styleFillter("bottom")}),a("div",{staticClass:"uiwrapper uirwapper-left",class:{black:"black"==t.activeEdit.ele.type},style:t.styleFillter("left")}),a("div",{staticClass:"uiwrapper uirwapper-right",class:{black:"black"==t.activeEdit.ele.type},style:t.styleFillter("right")}),a("el-dialog",{attrs:{title:"编辑图片",visible:t.imageBoxShow,width:"400px"},on:{"update:visible":function(e){t.imageBoxShow=e}}},t._l(t.activeEdit.ele.image,(function(e){return a("el-row",{key:e.path,staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:8}},[a("p",[t._v(t._s(e.title)+"：")])]),a("el-col",{attrs:{span:14}},[a("image-part",{attrs:{errTip:e.title+"大小不能超过"+e.imgSize+"K",imgSize:e.imgSize},scopedSlots:t._u([{key:"tip",fn:function(){return[a("div",{staticClass:"edit-img_tip"},[t._v(t._s(e.title)+"大小不能超过"+t._s(e.imgSize)+"K")])]},proxy:!0}],null,!0),model:{value:t.info[e.path.split(".")[0]][e.path.split(".")[1]][e.path.split(".")[2]],callback:function(a){t.$set(t.info[e.path.split(".")[0]][e.path.split(".")[1]],e.path.split(".")[2],a)},expression:"info[item.path.split('.')[0]][item.path.split('.')[1]][item.path.split('.')[2]]"}})],1)],1)})),1)],1)},J=[],X=a("5ca4"),Q=X["a"],Y=(a("5467"),Object(x["a"])(Q,V,J,!1,null,"44c33891",null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share"},[a("div",{staticClass:"share_self shareBox"},[a("div",{staticClass:"share_title"},[a("p",{directives:[{name:"edit-tap",rawName:"v-edit-tap",value:{name:"share_title"},expression:"{name:'share_title'}"}]},[t._v(" "+t._s(t.info.act.wx_share.title)+" ")])]),a("div",{staticClass:"share_info"},[a("p",{directives:[{name:"edit-tap",rawName:"v-edit-tap",value:{name:"share_desc"},expression:"{name:'share_desc'}"}]},[t._v(" "+t._s(t.info.act.wx_share.desc)+" ")])]),a("div",{staticClass:"share_pic"},[a("img",{directives:[{name:"edit-tap",rawName:"v-edit-tap",value:{name:"share_pic"},expression:"{name:'share_pic'}"}],attrs:{src:t.info.act.wx_share.img}})])]),a("div",{staticClass:"share_friend shareBox"},[a("div",{staticClass:"share_title"},[a("p",[t._v(" "+t._s(t.info.act.wx_share.title)+" ")])]),a("div",{staticClass:"share_info"},[t._v(" "+t._s(t.info.act.wx_share.desc)+" ")]),a("div",{staticClass:"share_pic"},[a("img",{attrs:{src:t.info.act.wx_share.img,alt:""}})])])])},et=[],at=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(p["a"])(e).call(this,{warn:"活动开启后不可更改"}))}return Object(d["a"])(e,t),e}(z["a"]);at=u["a"]([f["a"]],at);var it=at,nt=it,rt=(a("3b0c"),Object(x["a"])(nt,tt,et,!1,null,"9a516800",null)),st=rt.exports,ot=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(p["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(f["e"]);u["a"]([E["b"]],ot.prototype,"info",void 0),u["a"]([E["b"]],ot.prototype,"editPagePath",void 0),u["a"]([Object(f["c"])(String)],ot.prototype,"viewSrc",void 0),ot=u["a"]([Object(f["a"])({components:{uiwrapBar:Z,shareBar:st}})],ot);var lt=ot,ct=lt,pt=Object(x["a"])(ct,W,G,!1,null,null,null),dt=pt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"edit-control_main"},[a("el-main",[a("el-tabs",{staticClass:"edit-control_tab",attrs:{type:"border-card"},model:{value:t.activeEdit.tab,callback:function(e){t.$set(t.activeEdit,"tab",e)},expression:"activeEdit.tab"}},[a("el-tab-pane",{attrs:{label:"基础设置",name:"base"}},[a("base-set"),a("share-set")],1),a("el-tab-pane",{attrs:{label:"奖品设置",name:"award"}},[a("award-set")],1),a("el-tab-pane",{attrs:{label:"高级设置",name:"senior"}},[a("logo-set"),a("advert-set",{attrs:{adOptions:t.advertOptions}})],1)],1)],1)],1)},ft=[],ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-collapse",{model:{value:t.activeNames.active,callback:function(e){t.$set(t.activeNames,"active",e)},expression:"activeNames.active"}},[a("el-collapse-item",{attrs:{title:"基础设置",name:"base"}},[t.eleFillter("act.info.title")?a("div",{class:{"edit-active":t.eleActive("act.info.title")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("活动名称：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium",maxlength:"20","show-word-limit":""},model:{value:t.info.act.info.title,callback:function(e){t.$set(t.info.act.info,"title",e)},expression:"info.act.info.title"}})],1)],1)],1):t._e(),t.eleFillter("act.info.start_time")?a("div",{class:{"edit-active":t.eleActive("act.info.start_time")||t.eleActive("act.info.end_time")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("活动起始时间：")])]),a("el-col",{attrs:{span:18}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions0},model:{value:t.info.act.info.start_time,callback:function(e){t.$set(t.info.act.info,"start_time",e)},expression:"info.act.info.start_time"}}),t._v(" 至 "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions1},model:{value:t.info.act.info.end_time,callback:function(e){t.$set(t.info.act.info,"end_time",e)},expression:"info.act.info.end_time"}})],1)],1)],1):t._e(),t._t("set-ext"),t.eleFillter("act.info.user_num.is_show")?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v(" 参与人数： "),a("el-popover",{attrs:{placement:"bottom",width:"450",trigger:"hover",content:t.popover.person}},[a("i",{staticClass:"el-icon-question",attrs:{slot:"reference"},slot:"reference"})])],1)]),a("el-col",{attrs:{span:18}},[a("el-switch",{attrs:{"active-text":"显示","inactive-text":"隐藏","active-value":"1","inactive-value":"2"},model:{value:t.info.act.info.user_num.is_show,callback:function(e){t.$set(t.info.act.info.user_num,"is_show",e)},expression:"info.act.info.user_num.is_show"}})],1)],1):t._e(),"1"==t.info.act.info.user_num.is_show&&t.eleFillter("act.info.user_num.num_base")?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("参与人数底数：")])]),a("el-col",{attrs:{span:18}},[a("el-input-number",{attrs:{size:"small","controls-position":"right",min:0,max:99999},on:{blur:function(e){return t.info.act.info.user_num.num_base=t.filterElInputNumber(t.info.act.info.user_num.num_base,0)}},model:{value:t.info.act.info.user_num.num_base,callback:function(e){t.$set(t.info.act.info.user_num,"num_base",e)},expression:"info.act.info.user_num.num_base"}})],1)],1):t._e(),t.eleFillter("act.info.rules")?a("div",{class:{"edit-active":t.eleActive("act.info.rules")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("活动说明：")])]),a("el-col",{attrs:{span:18}},[a("editor-part",{model:{value:t.info.act.info.rules,callback:function(e){t.$set(t.info.act.info,"rules",e)},expression:"info.act.info.rules"}})],1)],1)],1):t._e()],2)],1)],1)},mt=[],vt=a("7d84"),bt=a("83cf"),_t=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(p["a"])(e).call(this,{person:"在活动首页显示已有多少人参与，且显示人数为实际人数与虚拟人数之和",warn:"活动开启后已选平台不可更改"}))}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"beforeCreate",value:function(){var t=this;this.pickerOptions0={disabledDate:function(e){return""!=t.info.act.end_time?e.getTime()<Date.now()-864e5||e.getTime()>new Date(t.info.act.end_time).getTime():e.getTime()<Date.now()-864e5}},this.pickerOptions1={disabledDate:function(e){return e.getTime()<new Date(t.info.act.start_time).getTime()-864e5||e.getTime()<Date.now()-864e5}}}}]),e}(vt["a"]);_t=u["a"]([Object(f["a"])({components:{EditorPart:bt["a"]}})],_t);var wt=_t,yt=wt,gt=Object(x["a"])(yt,ht,mt,!1,null,null,null),xt=gt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-collapse",{model:{value:t.activeNames.active,callback:function(e){t.$set(t.activeNames,"active",e)},expression:"activeNames.active"}},[a("el-collapse-item",{attrs:{title:"分享设置",name:"share"}},[t.eleFillter("act.wx_share.title")?a("div",{class:{"edit-active":t.eleActive("act.info.wx_share.title")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("分享标题：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium",maxlength:"25","show-word-limit":""},model:{value:t.info.act.wx_share.title,callback:function(e){t.$set(t.info.act.wx_share,"title",e)},expression:"info.act.wx_share.title"}})],1)],1)],1):t._e(),t.eleFillter("act.wx_share.desc")?a("div",{class:{"edit-active":t.eleActive("act.info.wx_share.desc")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("分享描述：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium",maxlength:"30","show-word-limit":"",type:"textarea"},model:{value:t.info.act.wx_share.desc,callback:function(e){t.$set(t.info.act.wx_share,"desc",e)},expression:"info.act.wx_share.desc"}})],1)],1)],1):t._e(),t.eleFillter("act.wx_share.img")?a("div",{class:{"edit-active":t.eleActive("act.info.wx_share.img")},on:{mouseover:t.eleMouseover}},[-1==t.editEleBlackList.indexOf("share_pic")?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("分享缩略图：")])]),a("el-col",{attrs:{span:18}},[a("image-part",{attrs:{errTip:"分享缩略图片大小不能超过500K",imgSize:"500"},scopedSlots:t._u([{key:"tip",fn:function(){return[a("div",{staticClass:"edit-img_tip"},[t._v("建议尺寸 200*200，大小不能超过500K")])]},proxy:!0}],null,!1,3425689582),model:{value:t.info.act.wx_share.img,callback:function(e){t.$set(t.info.act.wx_share,"img",e)},expression:"info.act.wx_share.img"}})],1)],1):t._e()],1):t._e(),t._t("set-ext")],2)],1)],1)},Ot=[],jt=a("087f"),St=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(p["a"])(e).call(this,{}))}return Object(d["a"])(e,t),e}(vt["a"]);St=u["a"]([Object(f["a"])({components:{imagePart:jt["a"]}})],St);var Et=St,Ct=Et,Dt=Object(x["a"])(Ct,kt,Ot,!1,null,null,null),Pt=Dt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{stretch:!0},on:{"tab-click":t.awardTypeChange},model:{value:t.appData.award.type,callback:function(e){t.$set(t.appData.award,"type",e)},expression:"appData.award.type"}},t._l(t.appData.award.awardSetCustom,(function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.name,name:"general_"+e.area,"data-set":"general_"+e.area}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[e.probability_set?[a("el-col",{staticClass:"edit-title_long",attrs:{span:6}},[a("p",[t._v("当前中奖总概率："),a("em",{staticClass:"edit-control_ele_percent",class:{over:t.getGeneral(e.area).percent_total>t.getGeneral(e.area).percent_max_set}},[t._v(t._s(t.getGeneral(e.area).percent_total))]),a("em",{staticClass:"edit-control_ele_percent_icon"},[t._v(t._s(t.getGeneral(e.area).percent_icon))])])]),a("el-col",{attrs:{span:8}},[t.info.draw.many_probability_set?a("el-select",{staticStyle:{width:"200px","margin-left":"20px"},attrs:{placeholder:"请选择"},on:{change:t.choosePercent},model:{value:t.info.draw.many_probability_set[e.area],callback:function(a){t.$set(t.info.draw.many_probability_set,e.area,a)},expression:"info.draw.many_probability_set[general.area]"}},t._l(t.percentSet.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):a("el-select",{staticStyle:{width:"200px","margin-left":"20px"},attrs:{placeholder:"请选择"},on:{change:t.choosePercent},model:{value:t.info.draw.probability,callback:function(e){t.$set(t.info.draw,"probability",e)},expression:"info.draw.probability"}},t._l(t.percentSet.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]:[a("el-col",{attrs:{span:6}}),a("el-col",{attrs:{span:8}})]],2),a("el-tabs",{staticClass:"tabs-sort edit-set_tab",attrs:{type:"card",editable:""},on:{"tab-click":t.awardTabChange,edit:t.handleAwardTabsEdit},model:{value:t.getGeneral(e.area).tab_value,callback:function(a){t.$set(t.getGeneral(e.area),"tab_value",a)},expression:"getGeneral(general.area).tab_value"}},t._l(t.getGeneral(e.area).tabs,(function(i,n){return a("el-tab-pane",{key:i.id,staticStyle:{padding:"0px 5px"},attrs:{label:i.name||"奖品",name:i.seq,closable:i.close,"data-set":n}},[1!=i.status?a("span",{staticClass:"edit-control_awardStatus",attrs:{slot:"label"},slot:"label"},[t._v(t._s(i.name)+" "),a("el-tooltip",{staticClass:"item",attrs:{"hide-after":1e3,effect:"light",content:"奖品已关闭",placement:"top-start"}},[a("em",[a("a",{staticClass:"edit-control_statusIcon"},[a("i",{staticClass:"el-icon-award-close"})])])])],1):t._e(),a("award-part",{attrs:{award:i,index:n,typeOptions:t.info.awardsType,type:"general_"+e.area},scopedSlots:t._u([{key:"part-ext",fn:function(i){return[t.eleFillter("award.probability_num",!1)&&e.probability_set?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("中奖概率：")])]),a("el-col",{attrs:{span:18}},[a("el-input-number",{attrs:{size:"medium",min:0,max:i.award.maxPercentSet,precision:0,label:"中奖概率"},on:{change:function(e,a){return t.countPercent(e,a,i.award)},blur:t.percentBlur},model:{value:i.award.probability_num,callback:function(e){t.$set(i.award,"probability_num",e)},expression:"slotProps.award.probability_num"}}),a("em",[t._v(" "+t._s(t.getGeneral(e.area).percent_icon))])],1)],1):t._e(),t._t("awardpart-ext",null,{award:i.award})]}},{key:"limit-ext",fn:function(e){return[t._t("awardlimit-ext",null,{award:e.award})]}}],null,!0)})],1)})),1),0==t.appData.award["general_"+e.area].length?a("div",{staticClass:"edit-control_handleTip"},[a("img",{staticClass:"edit-control_handleLine",attrs:{src:"https://activityres.jhm2012.com/gallery174/201910/1655455439.png",alt:""}}),a("div",{staticClass:"edit-control_handleGift"},[a("p",{staticClass:"edit-control_handleText"},[t._v("点击“+”以添加奖品")]),a("img",{attrs:{src:"https://activityres.jhm2012.com/gallery174/201910/1655468367.png",alt:""}})])]):t._e()],1)})),1)],1)},$t=[],Tt=a("3eaa"),Lt=Tt["a"],zt=(a("b369"),Object(x["a"])(Lt,It,$t,!1,null,"0172c896",null)),Nt=zt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[-1==t.editEleBlackList.indexOf("logo")?a("el-collapse",{model:{value:t.activeNames.active,callback:function(e){t.$set(t.activeNames,"active",e)},expression:"activeNames.active"}},[a("el-collapse-item",{attrs:{title:"LOGO设置",name:"logo"}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("是否显示：")])]),a("el-col",{attrs:{span:18}},[-1==t.editEleBlackList.indexOf("logo_is_show")?a("el-switch",{attrs:{"active-text":"显示","inactive-text":"隐藏","active-value":"1","inactive-value":"2"},model:{value:t.info.act.info.logo.is_show,callback:function(e){t.$set(t.info.act.info.logo,"is_show",e)},expression:"info.act.info.logo.is_show"}}):t._e()],1)],1),"1"==t.info.act.info.logo.is_show&&-1==t.editEleBlackList.indexOf("logo_is_show")?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("LOGO图片：")])]),a("el-col",{attrs:{span:18}},[a("image-part",{attrs:{errTip:"LOGO图片大小不能超过500K",imgSize:"500",styles:"width: 150px; height: 50px;"},scopedSlots:t._u([{key:"tip",fn:function(){return[a("div",{staticClass:"edit-img_tip"},[t._v("大小不能超过500K")])]},proxy:!0}],null,!1,650632286),model:{value:t.info.act.info.logo.pic_url,callback:function(e){t.$set(t.info.act.info.logo,"pic_url",e)},expression:"info.act.info.logo.pic_url"}})],1)],1):t._e(),t._t("set-ext")],2)],1):t._e()],1)},Ft=[],At=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(p["a"])(e).call(this,{warn:"活动开启后已选平台不可更改"}))}return Object(d["a"])(e,t),e}(vt["a"]);At=u["a"]([Object(f["a"])({components:{ImagePart:jt["a"]}})],At);var Ut=At,Kt=Ut,qt=Object(x["a"])(Kt,Mt,Ft,!1,null,null,null),Bt=qt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-collapse",{model:{value:t.activeNames.active,callback:function(e){t.$set(t.activeNames,"active",e)},expression:"activeNames.active"}},[a("el-collapse-item",{attrs:{title:"广告设置",name:"advert"}},[a("el-tabs",{staticClass:"edit-set_tab",attrs:{type:"card",editable:""},on:{"tab-click":t.tabClick,edit:t.tabsEdit},model:{value:t.tabValue,callback:function(e){t.tabValue=e},expression:"tabValue"}},t._l(t.tabs,(function(e,i){return a("el-tab-pane",{key:e.seq,staticStyle:{padding:"0px 5px"},attrs:{label:e.tabTitle,name:e.seq,"data-set":i}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("是否显示：")])]),a("el-col",{attrs:{span:18}},[a("el-switch",{attrs:{"active-text":"显示","inactive-text":"隐藏","active-value":"1","inactive-value":"2"},model:{value:e.is_show,callback:function(a){t.$set(e,"is_show",a)},expression:"advert.is_show"}})],1)],1),"1"==e.is_show?[a("div",{class:{"edit-active":t.eleActive("advert."+i+".position")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("广告位置：")])]),a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.position,callback:function(a){t.$set(e,"position",a)},expression:"advert.position"}},t._l(t.adOptions,(function(t){return a("el-option",{key:t.value,attrs:{disabled:t.disabled,label:t.label,value:t.value}})})),1)],1)],1)],1),a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("广告名称：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"advert.title"}})],1)],1),a("div",{class:{"edit-active":t.eleActive("advert."+i+".img_url")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("广告图片：")])]),a("el-col",{attrs:{span:18}},[a("image-part",{attrs:{errTip:"广告图片大小不能超过500K",imgSize:"500",styles:"width: 200px; height: 100px;"},scopedSlots:t._u([{key:"tip",fn:function(){return[a("div",{staticClass:"edit-img_tip"},[t._v("大小不能超过500K")])]},proxy:!0}],null,!0),model:{value:e.img_url,callback:function(a){t.$set(e,"img_url",a)},expression:"advert.img_url"}})],1)],1)],1),a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("图片链接：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"选填",size:"medium"},model:{value:e.img_link,callback:function(a){t.$set(e,"img_link",a)},expression:"advert.img_link"}})],1)],1),a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("图片说明：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"选填",size:"medium"},model:{value:e.img_title,callback:function(a){t.$set(e,"img_title",a)},expression:"advert.img_title"}})],1)],1)]:t._e()],2)})),1)],1)],1)],1)},Ht=[],Wt=a("b4a3"),Gt=Wt["a"],Vt=Object(x["a"])(Gt,Rt,Ht,!1,null,null,null),Jt=Vt.exports,Xt=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.advertOptions=[{value:1,label:"首页顶部",disabled:!1},{value:2,label:"首页底部",disabled:!1},{value:3,label:"我的奖品顶部",disabled:!1},{value:4,label:"我的奖品底部",disabled:!1},{value:5,label:"奖品详情页顶部",disabled:!1},{value:6,label:"奖品详情页底部",disabled:!1}],t}return Object(d["a"])(e,t),e}(f["e"]);u["a"]([E["b"]],Xt.prototype,"info",void 0),u["a"]([E["b"]],Xt.prototype,"activeEdit",void 0),Xt=u["a"]([Object(f["a"])({components:{baseSet:xt,shareSet:Pt,awardSet:Nt,logoSet:Bt,advertSet:Jt}})],Xt);var Qt=Xt,Yt=Qt,Zt=Object(x["a"])(Yt,ut,ft,!1,null,null,null),te=Zt.exports,ee=a("4709"),ae=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.viewSrc="",t.isFisrtLoad=!0,t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"mounted",value:function(){this.createBeforeunloadHandler()}},{key:"beforeCreate",value:function(){this.$store.registerModule(["appData","actSet"],C)}},{key:"created",value:function(){var t=this;this.getData("turntable").then((function(){t.viewSrc=t.$route.query.view,t.$watch("info",(function(e){return t.onDataChange(ee["b"].update)}),{deep:!0})})),Object(ee["c"])((function(e,a){e.type==ee["b"].empty?t.onDataChange(ee["b"].init):e.type==ee["b"].tapHover||e.type==ee["b"].tapClick?(e.data.ele=t.eleEditFillter(e.data.name),t.updateUiWrapper(e.data)):e.type==ee["b"].tapScroll&&t.updateScrollUiWrapper(e.data)}))}},{key:"onDataChange",value:function(t){t!=ee["b"].update||this.isFisrtLoad||this.updateEditInfoStatus(1),this.isFisrtLoad&&(this.isFisrtLoad=!1);var e={activity:this.info.act,advert:this.info.advert,prize:this.info.prize};ee["a"].postMessage(t,e)}}]),e}(f["e"]);u["a"]([E["b"]],ae.prototype,"info",void 0),u["a"]([E["b"]],ae.prototype,"activeEdit",void 0),u["a"]([E["b"]],ae.prototype,"isShow",void 0),u["a"]([E["b"]],ae.prototype,"loading",void 0),u["a"]([E["a"]],ae.prototype,"getData",void 0),u["a"]([E["c"]],ae.prototype,"updateUiWrapper",void 0),u["a"]([E["c"]],ae.prototype,"updateScrollUiWrapper",void 0),u["a"]([E["c"]],ae.prototype,"updateEditInfoStatus",void 0),u["a"]([Object(f["d"])()],ae.prototype,"onDataChange",null),ae=u["a"]([Object(f["a"])({components:{pTop:H,pLeft:dt,pRight:te}})],ae);var ie=ae,ne=ie,re=Object(x["a"])(ne,j,S,!1,null,null,null),se=re.exports;i["default"].use(n["a"]);var oe=[{path:"/",name:"home",component:O},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/turntable",name:"turntable",component:se}],le=new n["a"]({routes:oe});e["a"]=le},b369:function(t,e,a){"use strict";var i=a("590d"),n=a.n(i);n.a},b4a3:function(t,e,a){"use strict";(function(t){a("a434"),a("d3b7"),a("25f0"),a("159b");var i=a("d4ec"),n=a("bee2"),r=a("99de"),s=a("7e84"),o=a("262e"),l=a("9ab4"),c=a("60a3"),p=a("4bb5"),d=a("4709"),u=a("7d84"),f=a("087f"),h=Object(p["e"])("advert"),m=function(e){function a(){var t;return Object(i["a"])(this,a),t=Object(r["a"])(this,Object(s["a"])(a).call(this,{warn:"活动开启后不可更改"})),t.tabs=[],t.tabValue="",t.defaultAdData={id:0,is_show:"2",position:"",title:"",img_url:"",img_link:"",img_title:"",tabTitle:"",seq:""},t}return Object(o["a"])(a,e),Object(n["a"])(a,[{key:"mounted",value:function(){var t=this;this.tabs=this.appData.advert.list,this.tabIndex=this.appData.advert.index,this.tabValue=0==this.appData.advert.list.length?"":this.appData.advert.list[this.appData.advert.index].seq,this.tabNextIndex=this.appData.advert.list.length,this.udateAdvertStatus(),this.$watch("tabs",(function(){return t.updateAdvert()}),{deep:!0})}},{key:"udateAdvertStatus",value:function(){for(var t=0,e=this.adOptions.length;t<e;t++)this.adOptions[t].disabled=!1;for(var a=0,i=this.adOptions.length;a<i;a++)for(var n=0,r=this.tabs.length;n<r;n++)this.adOptions[a].value==this.tabs[n].position&&(this.adOptions[a].disabled=!0)}},{key:"updateAdvert",value:function(){this.advert_handle(this.appData),this.onDataChange(d["b"].update),this.updateEditInfoStatus(1),this.udateAdvertStatus()}},{key:"tabClick",value:function(t){this.tabIndex=t.$attrs["data-set"],this.advert_updateIndex(this.tabIndex)}},{key:"tabsEdit",value:function(e,a){var i=this;if("add"==a){var n=this.tabs.length+1,r=(++this.tabNextIndex).toString(),s=t.extend({},this.defaultAdData,{});s.tabTitle="广告"+n,s.seq=r,this.tabs.push(s),this.tabValue=r,0==this.tabs.length?this.advert_updateIndex(0):this.advert_updateIndex(this.tabs.length-1),this.$message({message:"添加成功！",type:"success"})}if("remove"==a){this.tabs.forEach((function(t,a){i.tabs[a].seq==e&&i.tabs[a].id})),this.$message("删除成功！"),this.tabValue==e&&this.tabs.forEach((function(t,a){if(t.seq==e){var n=i.tabs[a+1]||i.tabs[a-1];n&&(i.tabValue=n)}})),this.tabs.forEach((function(t,a){t.seq==e&&i.tabs.splice(a,1)})),this.tabs.forEach((function(t,e){t.tabTitle="广告"+(e+1)})),0==this.tabs.length?this.advert_updateIndex(0):this.advert_updateIndex(this.tabs.length-1)}}}]),a}(u["a"]);l["a"]([Object(p["d"])("appData")],m.prototype,"appData",void 0),l["a"]([h.Mutation("advert_updateIndex")],m.prototype,"advert_updateIndex",void 0),l["a"]([h.Mutation("advert_handle")],m.prototype,"advert_handle",void 0),l["a"]([p["a"]],m.prototype,"handleData",void 0),l["a"]([p["c"]],m.prototype,"updateEditInfoStatus",void 0),l["a"]([Object(c["b"])()],m.prototype,"onDataChange",void 0),l["a"]([Object(c["c"])({type:Array,default:function(){return[{value:1,label:"首页顶部",disabled:!1}]}})],m.prototype,"adOptions",void 0),m=l["a"]([Object(c["a"])({components:{ImagePart:f["a"]},watch:{"appData.advert.index":{handler:function(){this.tabValue=this.appData.advert.list[this.appData.advert.index].seq}}}})],m),e["a"]=m}).call(this,a("1157"))},cc02:function(t,e,a){"use strict";a.r(e);a("99af"),a("b0c0"),a("d3b7"),a("159b");e["default"]={namespaced:!0,state:{index:0,type:"",awardSetCustom:[]},mutations:{award_init:function(t,e){t.awardSetCustom=e.actSet.awardSetCustom||[{name:"普通奖池",title:"普通奖品",area:"1",probability_set:!0,other:{}},{name:"安慰奖池",title:"安慰奖品",area:"2",probability_set:!1,other:{}}],t.awardSetCustom.forEach((function(e,a){var i="general_"+e.area;t[i]=[],0==a&&(t.type=i)}))},award_render:function(t,e){e.content.forEach((function(e,a){var i={input_num:0,code_num:0,renderType:"succ",minnum:e.num,close:2==e.is_valid,class:2==e.is_valid?"":"unclose",title:"",seq:"0",id:a},n=Object.assign({},e,i),r="";t.awardSetCustom.forEach((function(t){n.area==t.area&&(r=t.title)})),n.title=r+(t["general_"+n.area].length+1),n.seq=t["general_"+n.area].length+1+"",n.name=""==n.name?r:n.name,n.tabIndex=t["general_"+n.area].length+1,t["general_"+n.area].push(n)}))},award_handle:function(t,e){var a=[];t.awardSetCustom.forEach((function(e){var i="general_"+e.type;a=a.concat(t[i])})),e.editInfo.award=a},award_update:function(t,e){t.awardSetCustom.forEach((function(e){var a="general_"+e.type;t[a].forEach((function(t){t.is_valid=1,t.close=!1,t.class="unclose",t.minnum=t.num}))}))},award_updateIndex:function(t,e){t.index=e},award_updateType:function(t,e){t.type=e}},actions:{award_render:{root:!0,handler:function(t,e){var a=t.commit;t.dispatch,t.rootstate,t.state;return new Promise((function(t,i){a("award_init",e),a("award_render",e),"function"===typeof t&&t()}))}},award_handle:{root:!0,handler:function(t,e){var a=t.commit;t.dispatch,t.rootstate,t.state;return new Promise((function(t,i){a("award_handle",e),"function"===typeof t&&t()}))}},award_update:{root:!0,handler:function(t,e){var a=t.commit;t.dispatch,t.rootstate,t.state;return new Promise((function(t,i){a("award_update",e),"function"===typeof t&&t()}))}}}}},cd49:function(t,e,a){"use strict";a.r(e),function(t){a("c975"),a("ac1f"),a("5319"),a("841c"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("2b0e"),i=a("3dfd"),n=a("afbc"),r=a("1e86"),s=(a("e885"),a("26fa"),a("ebed"),a("2a4f"),a("73ec"),a("08fb")),o=(a("f57d"),a("4709")),l=a("52a2");function c(t){t.returnValue="确定要关闭窗口吗？"}e["default"].config.productionTip=!1,e["default"].mixin({data:function(){return{}},computed:{mixin:function(){return{actId:this.$route.params.actId}}},methods:{eleFillter:function(t,e){var a=-1==this.editEleBlackList.indexOf(t);return a},eleEditFillter:function(t){var e=new s["a"](t);return e},eleActive:function(t){return this.activeEdit.path==t},eleMouseover:function(e){var a=e.currentTarget;t(a).hasClass("edit-active")&&this.$store.commit("updateEditWrapper",{path:""})},menuSelect:function(t,e){var a=this.handlPagePath(t);this.$store.commit("resetUiWrapper"),this.$store.commit("updateEditPagePath",{path:a}),o["a"].postMessage(o["b"].edit,{url:a})},filterPagePath:function(t){var e=this.handlPagePath(t);return e},handlPagePath:function(t){var e=t.search("prizeId"),a="";if(a=t.replace("actId",this.$route.params.actId),-1!=e){var i;i=0==this.$store.state.appData.award[this.$store.state.appData.award.type].length?this.$store.state.appData.award["general_1"][0]:this.$store.state.appData.award[this.$store.state.appData.award.type][this.$store.state.appData.award.index];var n=i;a=a.replace("prizeId",n.id)}return a},createBeforeunloadHandler:function(){window.addEventListener("beforeunload",c,!1)},destroyedBeforeunloadHandler:function(t){if(window.removeEventListener("beforeunload",c,!1),t){var e=document.createElement("a");e.href=t,e.click()}},filterElInputNumber:function(t,e){return t=void 0==t?e:t,t}}}),new e["default"]({router:n["a"],store:r["a"],render:function(t){return t(i["a"])},provide:{debounce:l["a"]}}).$mount("#app")}.call(this,a("1157"))},d1e73:function(t,e,a){"use strict";var i=a("5dff"),n=a.n(i);n.a},dd0a:function(t,e,a){"use strict";var i=a("4e4b"),n={get:function(t,e){return i["a"].get(t,{params:e})},post:function(t,e){return i["a"].post(t,e)},upLoadFile:function(t,e){return Object(i["a"])({url:t,method:"post",data:e,contentType:!1,processData:!1,dataType:"json"})}};e["a"]=n},e885:function(t,e,a){"use strict";a("aa5e");var i=a("5c96"),n=a.n(i),r=a("2b0e");a("7b14");r["default"].use(n.a)},ebed:function(t,e,a){"use strict";a("4709")},f57d:function(t,e,a){"use strict";a("04ca")},f6e1:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.eleFillter("award.short_name",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("奖品简称：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium",maxlength:"8","show-word-limit":""},model:{value:t.award.short_name,callback:function(e){t.$set(t.award,"short_name",e)},expression:"award.short_name"}})],1)],1):t._e(),t.eleFillter("award.name",!1)?a("div",{class:{"edit-active":t.eleActive("award."+t.index+".name")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("奖品名称：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium",maxlength:"15","show-word-limit":""},model:{value:t.award.name,callback:function(e){t.$set(t.award,"name",e)},expression:"award.name"}})],1)],1)],1):t._e(),t.eleFillter("award.type",!1)?a("div",{class:{"edit-active":t.eleActive("award."+t.index+".type")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v(" 奖品类型： "),a("el-popover",{attrs:{placement:"bottom",width:"150",trigger:"hover",content:"活动开启后不可更改"}},[a("i",{staticClass:"el-icon-my-warn",attrs:{slot:"reference"},slot:"reference"})])],1)]),a("el-col",{attrs:{span:18}},[a("el-select",{attrs:{placeholder:"请选择奖品类型",disabled:1==t.info.act.status&&1==t.award.is_valid},on:{change:t.awardTypeChange},model:{value:t.award.type,callback:function(e){t.$set(t.award,"type",e)},expression:"award.type"}},t._l(t.typeOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:e}})})),1)],1)],1)],1):t._e(),"tyq"==t.award.type?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("通用码：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"medium",maxlength:"30","show-word-limit":""},model:{value:t.award.generic_code,callback:function(e){t.$set(t.award,"generic_code",e)},expression:"award.generic_code"}})],1)],1):t._e(),t.eleFillter("award.num",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("奖品数量：")])]),a("el-col",{attrs:{span:18}},[1==t.award.is_dzq?[a("el-input-number",{attrs:{disabled:"",size:"medium",max:99999999,label:"奖品数量"},model:{value:t.award.code_num,callback:function(e){t.$set(t.award,"code_num",e)},expression:"award.code_num"}})]:[1==t.info.act.status&&1==t.award.is_valid?a("el-input-number",{attrs:{size:"medium",min:t.award.minnum,max:99999999,label:"奖品数量"},on:{blur:function(e){return t.award.input_num=t.filterElInputNumber(t.award.input_num,t.award.minnum)}},model:{value:t.award.input_num,callback:function(e){t.$set(t.award,"input_num",e)},expression:"award.input_num"}}):a("el-input-number",{attrs:{size:"medium",min:0,max:99999999,label:"奖品数量"},on:{blur:function(e){return t.award.input_num=t.filterElInputNumber(t.award.input_num,0)}},model:{value:t.award.input_num,callback:function(e){t.$set(t.award,"input_num",e)},expression:"award.input_num"}})]],2)],1):t._e(),t.eleFillter("award.money",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v(" 奖品价值： "),a("el-popover",{attrs:{placement:"bottom",width:"150",trigger:"hover",content:"活动开启后不可更改"}},[a("i",{staticClass:"el-icon-my-warn",attrs:{slot:"reference"},slot:"reference"})])],1)]),a("el-col",{attrs:{span:18}},[a("el-input-number",{attrs:{disabled:1==t.info.act.status&&1==t.award.is_valid,size:"medium",precision:2,step:1,min:0,max:9999999},on:{blur:function(e){return t.award.money=t.filterElInputNumber(t.award.money,0)}},model:{value:t.award.money,callback:function(e){t.$set(t.award,"money",e)},expression:"award.money"}})],1)],1):t._e(),t._t("part-ext",null,{award:t.award}),"tyq"==t.award.type||"xsxf"==t.award.type?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("消费地址：")])]),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请填写线上消费地址",size:"medium",maxlength:"200","show-word-limit":"",type:"textarea"},model:{value:t.award.use_url,callback:function(e){t.$set(t.award,"use_url",e)},expression:"award.use_url"}})],1)],1):t._e(),t.eleFillter("award.pic_url",!1)?a("div",{class:{"edit-active":t.eleActive("award."+t.index+".pic_url")},on:{mouseover:t.eleMouseover}},[a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("奖品图片：")])]),a("el-col",{attrs:{span:18}},[a("image-part",{attrs:{errTip:"奖品图片大小不能超过500K",imgSize:"500"},scopedSlots:t._u([{key:"tip",fn:function(){return[a("div",{staticClass:"edit-img_tip"},[t._v("大小不能超过500K")])]},proxy:!0}],null,!1,650632286),model:{value:t.award.pic_url,callback:function(e){t.$set(t.award,"pic_url",e)},expression:"award.pic_url"}})],1)],1)],1):t._e(),t.eleFillter("award.desc",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("奖品说明：")])]),a("el-col",{attrs:{span:18}},[a("editor-part",{model:{value:t.award.desc,callback:function(e){t.$set(t.award,"desc",e)},expression:"award.desc"}})],1)],1):t._e(),1==t.award.is_dzq?a("el-divider",{attrs:{"content-position":"left"}},[t._v(" 券码设置 ")]):t._e(),1==t.award.is_dzq?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{attrs:{span:6}},[a("p",[t._v("导入券码：")])]),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"el-upload__tip"},[a("a",{staticStyle:{"font-size":"14px",color:"#6D96FF",cursor:"pointer"},attrs:{href:"javascript:;"},on:{mousedown:function(e){return t.destroyedBeforeunloadHandler(t.apiList.sampleDownloadUrl)},mouseleave:t.createBeforeunloadHandler}},[t._v("点击下载模版文件")])]),a("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!0,"http-request":t.upLoadFile,"before-upload":t.beforeFileUpload,action:"123","list-type":"picture",drag:"",multiple:"",accept:"application/vnd.ms-excel, text/csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])]),a("div",{staticClass:"edit-control_settingTip"},[t._v("支持上传 xls / xlsx / csv 格式文件")])],1)],1):t._e(),t._t("limit-ext",null,{award:t.award}),"comfort"==t.type?[t.eleFillter("award.award_person_max_win_num_comfort",!1)?a("el-divider",{attrs:{"content-position":"left"}},[t._v(" 高级设置"),a("em",{staticClass:"edit-divider_tip"},[t._v("（0代表不限制）")])]):t._e(),t.eleFillter("award.award_person_max_win_num_comfort",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{staticClass:"edit-title_long",attrs:{span:10}},[a("p",[t._v("每人最大中奖次数：")])]),a("el-col",{attrs:{span:10}},[a("el-input-number",{attrs:{"controls-position":"right",size:"medium",min:0,max:99999999,label:"每人最大中奖次数"},on:{blur:function(e){return t.award.award_person_max_win_num=t.filterElInputNumber(t.award.award_person_max_win_num,1)}},model:{value:t.award.award_person_max_win_num,callback:function(e){t.$set(t.award,"award_person_max_win_num",e)},expression:"award.award_person_max_win_num"}}),a("span",[t._v(" 次")])],1)],1):t._e()]:t._e(),"general"==t.type?[t.eleFillter("award.award_max_win_num",!1)||t.eleFillter("award.award_person_max_win_num",!1)||t.eleFillter("award.award_person_day_max_win_num",!1)?a("el-divider",{attrs:{"content-position":"left"}},[t._v(" 高级设置"),a("em",{staticClass:"edit-divider_tip"},[t._v("（0代表不限制）")])]):t._e(),t.eleFillter("award.award_max_win_num",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{staticClass:"edit-title_long",attrs:{span:10}},[a("p",[t._v("奖品每天最大中奖次数：")])]),a("el-col",{attrs:{span:10}},[a("el-input-number",{attrs:{"controls-position":"right",size:"medium",min:0,max:99999999,label:"奖品每天最大中奖次数"},on:{blur:function(e){return t.award.award_max_win_num=t.filterElInputNumber(t.award.award_max_win_num,0)}},model:{value:t.award.award_max_win_num,callback:function(e){t.$set(t.award,"award_max_win_num",e)},expression:"award.award_max_win_num"}}),a("span",[t._v(" 次")])],1)],1):t._e(),t.eleFillter("award.award_person_max_win_num",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{staticClass:"edit-title_long",attrs:{span:10}},[a("p",[t._v("每人最大中奖次数：")])]),a("el-col",{attrs:{span:10}},[a("el-input-number",{attrs:{"controls-position":"right",size:"medium",min:0,max:99999999,label:"每人最大中奖次数"},on:{blur:function(e){return t.award.award_person_max_win_num=t.filterElInputNumber(t.award.award_person_max_win_num,1)}},model:{value:t.award.award_person_max_win_num,callback:function(e){t.$set(t.award,"award_person_max_win_num",e)},expression:"award.award_person_max_win_num"}}),a("span",[t._v(" 次")])],1)],1):t._e(),t.eleFillter("award.award_person_day_max_win_num",!1)?a("el-row",{staticClass:"edit-control_ele",attrs:{type:"flex"}},[a("el-col",{staticClass:"edit-title_long",attrs:{span:10}},[a("p",[t._v("每人每天中奖次数：")])]),a("el-col",{attrs:{span:10}},[a("el-input-number",{attrs:{"controls-position":"right",size:"medium",min:0,max:99999999,label:"每人每天中奖次数"},on:{blur:function(e){return t.award.award_person_day_max_win_num=t.filterElInputNumber(t.award.award_person_day_max_win_num,1)}},model:{value:t.award.award_person_day_max_win_num,callback:function(e){t.$set(t.award,"award_person_day_max_win_num",e)},expression:"award.award_person_day_max_win_num"}}),a("span",[t._v(" 次")])],1)],1):t._e()]:t._e()],2)},n=[],r=(a("a9e3"),a("d4ec")),s=a("bee2"),o=a("99de"),l=a("7e84"),c=a("262e"),p=a("9ab4"),d=a("60a3"),u=a("4bb5"),f=a("5b4c"),h=a("087f"),m=a("83cf"),v=function(t){function e(){return Object(r["a"])(this,e),Object(o["a"])(this,Object(l["a"])(e).call(this,{warn:"活动开启后不可更改"}))}return Object(c["a"])(e,t),Object(s["a"])(e,[{key:"awardTypeChange",value:function(t){this.award.is_dzq=this.typeOptions[t].is_dzq}},{key:"beforeFileUpload",value:function(t){return!0}},{key:"upLoadFile",value:function(t){var e=this,a=new FormData;a.append("codeFile",t.file),a.append("awardId",this.award.id),this.$http.upLoadFile(this.apiList.importUrl,a).then((function(t){"success"==t.status?(e.award.code_num=1==e.award.is_dzq?t.data:e.award.code_num,e.$message({showClose:!0,message:t.message,type:"success",duration:0})):e.$message({showClose:!0,message:t.message,type:"error",duration:0})}))}}]),e}(f["a"]);p["a"]([u["b"]],v.prototype,"activeEdit",void 0),p["a"]([Object(d["c"])(Object)],v.prototype,"award",void 0),p["a"]([Object(d["c"])(Object)],v.prototype,"typeOptions",void 0),p["a"]([Object(d["c"])(String)],v.prototype,"type",void 0),p["a"]([Object(d["c"])(Number)],v.prototype,"index",void 0),v=p["a"]([Object(d["a"])({components:{ImagePart:h["a"],EditorPart:m["a"]}})],v);var b=v,_=b,w=a("2877"),y=Object(w["a"])(_,i,n,!1,null,null,null);e["a"]=y.exports},f6eb:function(t,e,a){}});